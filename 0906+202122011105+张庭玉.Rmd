---
title: "广义线性模型作业"
author: "张庭玉"
date: "`r Sys.Date()`"
output:
  word_document: default
  html_document:
    df_print: paged
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo =TRUE,prompt=TRUE,collapse=TRUE,comment='',message = FALSE,warning = FALSE)
```

## 练习1.1 举例说明理性模型和统计模型间的联系和区别。

答：\
  理想模型刻画了影响未知现象的所有确定因素和随机因素，是一个理想化的未知模型，但我们不知道所有的确定因素有哪些，故是未知的。\
  而统计模型也称现实模型是在了解未知现象的背景知识之后，根据已经掌握的知识找到尽可能多的影响未知现象的确定因子$X_1,X_2,...$,然后收集变量$(Y,X_1,X_2,...)$的观测数据，创建一个目前最优的效果模型，统计模型是一个可以用数据拟合出来的现实模型。\
  联系与区别：随着研究阶段和研究流程的不断重复，对未知现象的研究随着实践检验逐步优化，发现更多的与随机现象有关的确定性因素从而提高模型的拟合精度。现实模型的预报效果会逐步逼近理想模型，这也是统计学所致力于实现的目标。\
  例如在现实生活中我们研究一个人的智力，存在一个我们未知的理想模型$Y=f(X_1,X_2,...,X_K)+\eta$其中有很多确定因素，我们通过收集数据分析数据找到了其中的几个确定因素如家庭氛围，父母基因，从而可以建立一个现实模型，在经过实践检验之后，认识到还有学习氛围也会影响智力的发展，从而我们就可以得到一个精度更高的现实模型，随着研究的持续展开，我们可以找到越来越多的确定因素，换句话说，也就是现实模型可以随着研究的发展逐步逼近于理想模型。\

## 练习1.2 举例说明在未知现象的研究过程中迷信的危害是什么？

答:\
  如果忽略实践检验而坚持已有检验结果，就是统计学中的迷信\
  例如在讨论身高这个随机现象的时候，一开始我们很容易得到与身高有关的确定性因素有父母身高和性别，如果不进行实践检验从而获得更与身高有关的更多确定性信息的话，会发现用现实模型估计身高的误差将会非常大，从而模型的有效性很差。在给定这两个因素的条件下，有相同确定性因素的个体的身高分布可能会非常广泛，是不具备频率稳定性的不确定现象，因此我们用该现实模型是没有理论依据的，可能将会导致很大的偏差。

## 练习1.3

答：\
  由题目可知$\epsilon$与$x_i(1≤i≤p)$不相关，故可以求$X\beta$与$\epsilon$的协方差：\
$$
\begin{align}
&cov(X\beta,\epsilon) \\
=&cov(\beta_0+X_1\beta_1+...+X_p\beta_0,\epsilon)\\
=&cov(\beta_0,\epsilon)+cov(X_1\beta_1,\epsilon)+...+cov(X_p\beta_p,\epsilon)
\end{align}\
$$
  因为$cov(X_i,\epsilon)=0$,所以上式=0，因此可以得到模型误差$\epsilon$与$X\beta$不相关。若$E(\epsilon)=a≠0$时，可以令$\beta_0=\beta_0+a$，此时可以得到$E(\epsilon)=0$满足线性模型的假设条件.\
  综上所述，响应变量和解释变量满足线性回归模型

## 练习1.4

答：

```{r}
data1.4=read.csv("1.4.csv",head=TRUE)
attach(data1.4)
lm1.4=lm(y~.,data=data1.4)
summary(lm1.4)
plot(lm1.4$fitted.values,ylim=c(-1,1),col="red",ylab="输出值")
points(y,col="blue")
legend("topright",legend=c("拟合值","真实值"),col=c("red","blue")
       ,lty=1,lwd=2,cex=.8)
```

  可以看出利用OLSE得出的拟合值与真实值之间相差很大，并且回归模型拟合效果很差，这是因为因变量的可能取值只有0和1，但是回归模型却满足不了这个约束，导致残差很大。对于离散型随机变量使用OLSE还可能导致拟合值为负数，而真实情况是因变量不可能为负数。

## 练习1.5

答：\
  我们由条件期望的知识可以知道：在已知因子$X_1,...,X_K$的情况下，$$Y=E(Y|X_1....,X_K)+\eta$$的估计效果最好，由题可知$Y~B(5,P(X))故E(Y|X)=5P(X)$,故如果用线性模型如下：$$Y=5P(X)+\epsilon$$而Y的实际上的取值是1—5的整数，5P(X)不能满足这个约束条件，因为不能保证5P(X)的值都是整数，当5P(X)的值为小数的时候，就很难判定对应的Y到底归为哪个整数类，因此对于离散型的因变量，不适合用线性回归模型去拟合数据。
